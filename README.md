# Prusti Performance Monitoring & Benchmarking

This repository contains two primary crates: 
* [`collector`](./collector): gathers data for each bors commit
* [`site`](./site): [displays](https://perf.rust-lang.org) the data and provides a GitHub bot for on-demand benchmarking

Additional documentation on running and setting up the frontend and backend can
be found in the `README` files in the `collector` and `site` directories.

Additional documentation on the benchmark programs can be found in the `README`
file in the `collector/benchmarks` directory.

## Quick Start

1. Ensure that the `prusti-dev` repo is installed adjacent to this repo.
2. Build the collector by running the command `cargo build` from the `collector` directory
3. Run the script `scripts/generate_prusti_benchs.sh` to benchmark all BORS commits from Prusti
4. To run the server, run the command `cargo run --bin site --release` from this directory

## Adding Benchmarks

Benchmarks should be placed in the `collector/benchmarks` folder. Ensure that
there is a `Cargo.lock` file in the benchmark; this can be generated by running
the `cargo build` command.
